import{d as v,H as u,L as h,o as w,a as F,x as s,R as _,S as b,f as e,m as t,w as n,p as B,a5 as S,aB as d}from"./index-z1hJ5Cph.js";import{E as q}from"./el-result-RAkQe3o2.js";/* empty css                */import{E as C}from"./el-button-O8kHkmLi.js";import{E as N}from"./el-input-d0ib9Cgp.js";import"./el-tag-y0BCCjTp.js";import{E as U,a as j}from"./el-select-hBCvyf8C.js";import"./el-scrollbar-T1eaASHH.js";import{E as L,a as O}from"./el-form-item-hkvdCSl9.js";import{o as R,c as T}from"./loading-nuqzq8mj.js";import"./use-form-item-vmAXCTid.js";import"./_Uint8Array-bsnH_Esz.js";import"./index-6YRnAls-.js";import"./scroll-7viUf7_N.js";import"./debounce-yb6mxPpC.js";import"./castArray-03vanRhI.js";import"./_initCloneObject-ykFolvl_.js";const I=s("h3",{style:{"text-align":"center"}},"意見回饋",-1),$={style:{display:"flex","justify-content":"center"}},D={style:{width:"100%","max-width":"768px"}},H={style:{"text-align":"center"}},ne=v({__name:"feedback",setup(J){const f=u(null),l=u({name:null,telephone:null,sex:"male",feedback:null}),i=u(0),g=p=>{p&&p.validate(o=>{o&&(R("資料處理中..."),fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l.value)}).then(r=>r.json()).then(r=>{r.code===200?(i.value=1,d.success("回饋成功!")):d.error("回饋失敗!")}).catch(()=>{d.error("回饋失敗!")}).finally(()=>{T()}))})},x=h({name:[{required:!0,message:"請輸入姓名",trigger:"blur"}],telephone:[{required:!0,message:"請輸入電話",trigger:"blur"},{pattern:/^09\d{8}$/,message:"請輸入正確的電話號碼",trigger:"blur"}],sex:[{required:!0,message:"請選擇性別",trigger:"blur"}],feedback:[{required:!0,message:"請輸入回饋意見",trigger:"blur"}]});return(p,o)=>{const r=N,m=L,c=U,k=j,V=C,y=O,E=q;return w(),F(S,null,[I,s("div",$,[_(s("div",D,[t(y,{model:e(l),ref_key:"feedbackFormRef",ref:f,rules:e(x)},{default:n(()=>[t(m,{label:"您的姓名",prop:"name"},{default:n(()=>[t(r,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(l).name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(m,{label:"您的性別",prop:"sex"},{default:n(()=>[t(k,{modelValue:e(l).sex,"onUpdate:modelValue":o[1]||(o[1]=a=>e(l).sex=a),autocomplete:"off"},{default:n(()=>[t(c,{value:"male",label:"男"}),t(c,{value:"female",label:"女"})]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"電話號碼",prop:"telephone"},{default:n(()=>[t(r,{modelValue:e(l).telephone,"onUpdate:modelValue":o[2]||(o[2]=a=>e(l).telephone=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(m,{label:"回饋意見",prop:"feedback"},{default:n(()=>[t(r,{modelValue:e(l).feedback,"onUpdate:modelValue":o[3]||(o[3]=a=>e(l).feedback=a),autocomplete:"off",type:"textarea"},null,8,["modelValue"])]),_:1}),s("div",H,[t(V,{type:"primary",onClick:o[4]||(o[4]=a=>g(e(f)))},{default:n(()=>[B("回饋")]),_:1})])]),_:1},8,["model","rules"])],512),[[b,e(i)===0]]),_(s("div",null,[t(E,{icon:"success",title:"感謝您的回饋","sub-title":"您的評論我們會認真檢視!"})],512),[[b,e(i)===1]])])],64)}}});export{ne as default};
